## Logs

로그(logs)는 AI 루틴에서 생성된 데이터와 메타데이터의 기록입니다. 
우리는 사전에 정의된 작업 집합에서 모델 성능을 평가하고, 패턴을 식별하며, 문제를 진단할 수 있도록 LLM 호출의 입력과 출력을 기록합니다.


Braintrust에서 로그는 트레이스(trace)로 구성되며, 이는 대략 애플리케이션에서의 단일 요청 또는 상호작용에 해당합니다. 트레이스는 하나 이상의 스팬(span)으로 이루어지며, 각 스팬은 예를 들어 LLM 호출과 같은 애플리케이션의 작업 단위를 나타냅니다. 보통 스테이징(내부)과 프로덕션(외부) 환경 모두에서 애플리케이션을 실행하는 동안 로그를 수집하고, 이를 사용해 문제를 디버깅하고 사용자 행동을 모니터링하며 데이터셋 구축을 위한 데이터를 수집합니다.

## Why log in Braintrust?

Braintrust에서 로깅을 통해 실제 관찰값(로그)과 오프라인 평가(실험) 사이에 피드백 루프를 만들 수 있습니다. 이 피드백 루프는 모델 성능을 개선하고 고품질 AI 애플리케이션을 구축하는 데 매우 중요합니다.

설계상, 로그는 실험과 정확히 동일한 데이터 구조를 사용합니다. 이로 인해 다음과 같은 유용한 특성이 생깁니다:

- 코드를 계측해 평가(evals)를 실행하도록 했다면, 그 계측을 그대로 재사용하여 로그를 생성할 수 있습니다.

- 기록된 트레이스는 평가에서와 정확히 동일한 데이터를 포착합니다.

- 자동화된 점수와 휴먼 리뷰 점수를 실험과 로그 모두에서 재사용할 수 있습니다.

## Write Logs
Braintrust에 로깅하는 가장 간단한 방법은 로깅하려는 코드를 TypeScript에서는 wrapTraced로, Python에서는 @traced로 감싸는 것입니다. 이 방법은 제공되는 모든 함수의 입력과 출력에 대해 동작합니다. 트레이싱에 대해 더 알아보려면 트레이싱 가이드를 확인하세요.

### User feedback
Braintrust는 사용자 피드백 로깅을 지원하며, 여러 형태를 가질 수 있습니다:

- 특정 스팬에 대한 점수: 예를 들어 요청의 출력이 👍(1에 해당) 또는 👎(0에 해당)일 수 있으며, 벡터 검색에서 검색된 문서가 0→1 척도로 관련 있음/없음으로 표시될 수 있습니다.

- 기대값(expected value): 입력과 출력과 함께 스팬의 expected 필드에 저장됩니다. 수정 사항을 보관하기에 좋은 위치입니다.

- 댓글(comment): 추가적인 컨텍스트를 제공하는 데 사용할 수 있는 자유 형식 텍스트 필드입니다.

- 추가 메타데이터 필드: user_id나 session_id처럼 피드백에 대한 부가 정보를 추적할 수 있게 해줍니다.

피드백을 제출할 때마다 logFeedback() / log_feedback() 메서드를 사용하여 위 필드들 중 하나 이상을 지정할 수 있습니다. 피드백을 기록하려는 스팬에 해당하는 span_id와 업데이트할 피드백 필드를 지정하세요. 사용자 피드백을 기록하면 필드가 실시간으로 업데이트됩니다.
